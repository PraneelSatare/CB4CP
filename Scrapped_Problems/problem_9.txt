Title: E. Insane Problem

Statement:
Wave is given five integers
k
,
l1
,
r1
,
l2
, and
r2
. Wave wants you to help her count the number of ordered pairs
(x,y)
such that all of the following are satisfied:
The first line contains an integer
t
(
1≤t≤104
) — the number of test cases.
The only line of each test case contains five integers
k
,
l1
,
r1
,
l2
, and
r2
(
2≤k≤109,1≤l1≤r1≤109,1≤l2≤r2≤109
).
For each test case, output the number of matching ordered pairs
(x,y)
on a new line.
In the third test case, the matching ordered pairs are the following:
In the fourth test case, the only valid ordered pair is
(1,1000000000)

Input Specification:
Input
The first line contains an integer
t
(
1≤t≤104
) — the number of test cases.
The only line of each test case contains five integers
k
,
l1
,
r1
,
l2
, and
r2
(
2≤k≤109,1≤l1≤r1≤109,1≤l2≤r2≤109
).

Output Specification:
Output
For each test case, output the number of matching ordered pairs
(x,y)
on a new line.

Sample Tests:
Example
input
Copy
5
2 2 6 2 12
2 1 1000000000 1 1000000000
3 5 7 15 63
1000000000 1 5 6 1000000000
15 17 78 2596 20914861
output
Copy
12
1999999987
6
1
197

Constraints:
Time: time limit per test2 seconds
Memory: memory limit per test256 megabytes

Tags: binary search, greedy, implementation, math, number theory, *1300

Contest Round: Codeforces Round 993 (Div. 4)

Index: E.

